{"ast":null,"code":"var _jsxFileName = \"/Users/cristian/cuby/website/pages/blog/index.tsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport { parseISO, format } from 'date-fns';\nimport { ptBR } from 'date-fns/locale';\nimport Header from 'components/Header';\nimport Footer from 'components/Footer';\nimport { getAllPosts } from 'lib/api';\nimport { Container, Cards } from './styles'; //** TO DO LIST: Menu flutuante com as categorias dos posts (curso, empreendedorismo, etc...) */\n\nexport const getStaticProps = async () => {\n  const allPosts = getAllPosts(['title', 'lead', 'categories', 'date', 'slug', 'author', 'coverImage', 'excerpt']);\n  return {\n    props: {\n      allPosts\n    }\n  };\n};\n\nconst Blog = ({\n  allPosts\n}) => {\n  const router = useRouter();\n  const {\n    0: cat,\n    1: setCat\n  } = useState('blog');\n  useEffect(() => {\n    if (router.query) {\n      setCat(router.query.cat.toString());\n    }\n\n    var posts = allPosts.slice(0, 9);\n    var morePosts = allPosts.slice(10);\n\n    if (cat === 'portfolio') {\n      var filteredPosts = allPosts.filter(item => item.categories.includes(cat.toString()));\n      var posts = filteredPosts.slice(0, 9);\n      var morePosts = filteredPosts.slice(10);\n    }\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(Header, {\n    page: cat,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }), __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, __jsx(Cards, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, posts.map(post => __jsx(Link, {\n    key: post.slug,\n    href: `blog/posts/${post.slug}`,\n    passHref: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, __jsx(\"a\", {\n    href: `blog/posts/${post.slug}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 19\n    }\n  }, __jsx(\"img\", {\n    style: {\n      maxWidth: 300\n    },\n    src: post.coverImage,\n    alt: post.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 23\n    }\n  }, post.title), __jsx(\"p\", {\n    className: \"data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 23\n    }\n  }, format(parseISO(post.date), `d 'de' LLLL '/' yyyy`, {\n    locale: ptBR\n  }), post.categories.map(item => __jsx(\"span\", {\n    key: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 27\n    }\n  }, item))), __jsx(\"p\", {\n    className: \"lead\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 23\n    }\n  }, post.lead))))))), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Blog;","map":{"version":3,"sources":["/Users/cristian/cuby/website/pages/blog/index.tsx"],"names":["React","useState","useEffect","useRouter","Link","parseISO","format","ptBR","Header","Footer","getAllPosts","Container","Cards","getStaticProps","allPosts","props","Blog","router","cat","setCat","query","toString","posts","slice","morePosts","filteredPosts","filter","item","categories","includes","map","post","slug","maxWidth","coverImage","title","date","locale","lead"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,SAASC,QAAT,EAAmBC,MAAnB,QAAiC,UAAjC;AACA,SAASC,IAAT,QAAqB,iBAArB;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,SAASC,WAAT,QAA4B,SAA5B;AAGA,SAASC,SAAT,EAAoBC,KAApB,QAAiC,UAAjC,C,CAEA;;AAMA,OAAO,MAAMC,cAAc,GAAG,YAAY;AACxC,QAAMC,QAAQ,GAAGJ,WAAW,CAAC,CAC3B,OAD2B,EAE3B,MAF2B,EAG3B,YAH2B,EAI3B,MAJ2B,EAK3B,MAL2B,EAM3B,QAN2B,EAO3B,YAP2B,EAQ3B,SAR2B,CAAD,CAA5B;AAWA,SAAO;AACLK,IAAAA,KAAK,EAAE;AAAED,MAAAA;AAAF;AADF,GAAP;AAGD,CAfM;;AAiBP,MAAME,IAAI,GAAG,CAAC;AAAEF,EAAAA;AAAF,CAAD,KAAyB;AACpC,QAAMG,MAAM,GAAGd,SAAS,EAAxB;AACA,QAAM;AAAA,OAACe,GAAD;AAAA,OAAMC;AAAN,MAAgBlB,QAAQ,CAAC,MAAD,CAA9B;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAGe,MAAM,CAACG,KAAV,EAAiB;AACfD,MAAAA,MAAM,CAACF,MAAM,CAACG,KAAP,CAAaF,GAAb,CAAiBG,QAAjB,EAAD,CAAN;AACD;;AACD,QAAIC,KAAK,GAAGR,QAAQ,CAACS,KAAT,CAAe,CAAf,EAAiB,CAAjB,CAAZ;AACA,QAAIC,SAAS,GAAGV,QAAQ,CAACS,KAAT,CAAe,EAAf,CAAhB;;AAEA,QAAGL,GAAG,KAAG,WAAT,EAAsB;AACpB,UAAIO,aAAa,GAAGX,QAAQ,CAACY,MAAT,CAAgBC,IAAI,IAAIA,IAAI,CAACC,UAAL,CAAgBC,QAAhB,CAAyBX,GAAG,CAACG,QAAJ,EAAzB,CAAxB,CAApB;AACA,UAAIC,KAAK,GAAGG,aAAa,CAACF,KAAd,CAAoB,CAApB,EAAsB,CAAtB,CAAZ;AACA,UAAIC,SAAS,GAAGC,aAAa,CAACF,KAAd,CAAoB,EAApB,CAAhB;AACD;AACF,GAZQ,EAYN,EAZM,CAAT;AAcA,SACE,4BACE,MAAC,MAAD;AAAQ,IAAA,IAAI,EAAEL,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE,MAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKI,KAAK,CAACQ,GAAN,CAAWC,IAAD,IACP,MAAC,IAAD;AAAM,IAAA,GAAG,EAAEA,IAAI,CAACC,IAAhB;AAAsB,IAAA,IAAI,EAAG,cAAaD,IAAI,CAACC,IAAK,EAApD;AAAuD,IAAA,QAAQ,MAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,IAAI,EAAG,cAAaD,IAAI,CAACC,IAAK,EAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,KAAK,EAAE;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KADT;AAEE,IAAA,GAAG,EAAEF,IAAI,CAACG,UAFZ;AAGE,IAAA,GAAG,EAAEH,IAAI,CAACI,KAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOJ,IAAI,CAACI,KAAZ,CADF,EAEE;AAAG,IAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqB7B,MAAM,CAACD,QAAQ,CAAC0B,IAAI,CAACK,IAAN,CAAT,EAAuB,sBAAvB,EAA8C;AAAEC,IAAAA,MAAM,EAAE9B;AAAV,GAA9C,CAA3B,EAEEwB,IAAI,CAACH,UAAL,CAAgBE,GAAhB,CAAoBH,IAAI,IACtB;AAAM,IAAA,GAAG,EAAEA,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAkBA,IAAlB,CADF,CAFF,CAFF,EASE;AAAG,IAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqBI,IAAI,CAACO,IAA1B,CATF,CANF,CADF,CADH,CADL,CAFF,CAFF,EA8BE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9BF,CADF;AAkCD,CApDD;;AAsDA,eAAetB,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router'\nimport Link from 'next/link';\n\nimport { parseISO, format } from 'date-fns'\nimport { ptBR } from 'date-fns/locale';\n\nimport Header from 'components/Header';\nimport Footer from 'components/Footer';\n\nimport { getAllPosts } from 'lib/api';\nimport Post from 'types/post';\n\nimport { Container, Cards } from './styles';\n\n//** TO DO LIST: Menu flutuante com as categorias dos posts (curso, empreendedorismo, etc...) */\n\ntype Props = {\n  allPosts: Post[]\n}\n\nexport const getStaticProps = async () => {\n  const allPosts = getAllPosts([\n    'title',\n    'lead',\n    'categories',\n    'date',\n    'slug',\n    'author',\n    'coverImage',\n    'excerpt',\n  ])\n\n  return {\n    props: { allPosts },\n  }\n}\n\nconst Blog = ({ allPosts }: Props) => {\n  const router = useRouter();\n  const [cat, setCat] = useState('blog');\n\n  useEffect(() => {\n    if(router.query) {\n      setCat(router.query.cat.toString());\n    }\n    var posts = allPosts.slice(0,9)\n    var morePosts = allPosts.slice(10)\n\n    if(cat==='portfolio') {\n      var filteredPosts = allPosts.filter(item => item.categories.includes(cat.toString()));\n      var posts = filteredPosts.slice(0,9)\n      var morePosts = filteredPosts.slice(10)\n    }\n  }, [])\n  \n  return ( \n    <>\n      <Header page={cat} />\n      <Container>\n\n        <Cards>\n            {posts.map((post) => (\n                <Link key={post.slug} href={`blog/posts/${post.slug}`} passHref>\n                  <a href={`blog/posts/${post.slug}`} >\n                    <img\n                      style={{ maxWidth: 300 }}\n                      src={post.coverImage}\n                      alt={post.title}\n                    />\n                    <div>\n                      <span>{post.title}</span>\n                      <p className=\"data\">{format(parseISO(post.date), `d 'de' LLLL '/' yyyy`, { locale: ptBR })}\n                      {\n                        post.categories.map(item => (\n                          <span key={item}>{item}</span>\n                        ))\n                      }\n                      </p>\n                      <p className=\"lead\">{post.lead}</p>\n                    </div>\n                  </a>\n                </Link>\n            ))}\n          </Cards>\n\n      </Container>\n      <Footer />\n    </>\n  )\n};\n\nexport default Blog;\n"]},"metadata":{},"sourceType":"module"}